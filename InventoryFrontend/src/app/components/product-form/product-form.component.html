<form [formGroup]="productForm" (ngSubmit)="onSubmit()">
  <mat-form-field appearance="fill" class="full-width">
    <mat-label>Name</mat-label>
    <input matInput formControlName="name" />
    <mat-error *ngIf="productForm.get('name')?.hasError('required')">
      Name is required
    </mat-error>
  </mat-form-field>

  <mat-form-field appearance="fill" class="full-width">
    <mat-label>Description</mat-label>
    <input matInput formControlName="description" />
  </mat-form-field>

  <mat-form-field appearance="fill" class="full-width">
    <mat-label>Price</mat-label>
    <input matInput type="number" formControlName="price" />
    <mat-error *ngIf="productForm.get('price')?.hasError('required')">
      Price is required
    </mat-error>
    <mat-error *ngIf="productForm.get('price')?.hasError('min')">
      Price must be greater than zero
    </mat-error>
  </mat-form-field>

  <mat-form-field appearance="fill" class="full-width">
    <mat-label>Quantity In Stock</mat-label>
    <input matInput type="number" formControlName="quantityInStock" />
    <mat-error *ngIf="productForm.get('quantityInStock')?.hasError('required')">
      Quantity is required
    </mat-error>
    <mat-error *ngIf="productForm.get('quantityInStock')?.hasError('min')">
      Quantity can't be negative
    </mat-error>
  </mat-form-field>

  <button type="submit" [disabled]="loading || productForm.invalid">Submit</button>

  <div *ngIf="loading">Loading...</div>
  <p class="error" *ngIf="errorMessage">{{ errorMessage }}</p>
</form>
